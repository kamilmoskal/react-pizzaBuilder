(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{135:function(e,t,a){e.exports={CheckOpen:"Checkout_CheckOpen__W1lRZ",openCheck:"Checkout_openCheck__1r-Bk",CheckClosed:"Checkout_CheckClosed__1LoM-",closeCheck:"Checkout_closeCheck__wFIXg"}},136:function(e,t,a){e.exports={OrderForm:"OrderForm_OrderForm__2UI8f",Field:"OrderForm_Field__3rdBh",ErrorMsg:"OrderForm_ErrorMsg__24pQz"}},137:function(e,t,a){e.exports={OrderCheck:"OrderCheck_OrderCheck__3g3iq",msg:"OrderCheck_msg__1OF3o",buttons:"OrderCheck_buttons__1abaX"}},140:function(e,t,a){"use strict";a.r(t);var r=a(25),n=a(0),o=a.n(n),i=a(15),c=a(10),s=a(34),m=a(135),l=a.n(m),d=a(54),u=a(136),h=a.n(u),p=a(128),E=a(11),g=a(18),C=Object(c.b)(function(e){return{ingredients:e.mp.ingredients,startedPrice:e.mp.startedPrice,token:e.auth.token,userId:e.auth.userId}},function(e){return{onSubmitOrder:function(t,a){return e(E.j(t,a))}}})(function(e){return o.a.createElement(p.d,{className:h.a.OrderForm,initialValues:{name:"",street:"",zipCode:"",country:"",email:"",phone:"",deliveryMethod:"cheapest"},onSubmit:function(t,a){var r=e.startedPrice;for(var n in e.ingredients)r+=e.ingredients[n].price;var o={ingredients:e.ingredients,orderData:t,userId:e.userId,totalPrice:r.toFixed(2)};e.onSubmitOrder(e.token,o)},validate:function(e){var t={};return e.name?e.name.length<3&&(t.name="Minimum 3 characters"):t.name="Name is required",e.street||(t.street="Street is required"),e.zipCode||(t.zipCode="Zipcode is required"),e.country||(t.country="Country is required"),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address (xxx@xxx.xx)"),e.phone?isNaN(e.phone)?t.phone="Phone must be write in digits":e.phone.length<7&&(t.phone="Minimum 7 digits"):t.phone="Phone is required",t},render:function(e){var t=e.values,a=e.errors,r=e.touched,n=e.handleBlur,i=e.handleChange,c=e.handleSubmit;return e.isSubmitting,e.isValidating,o.a.createElement(p.c,{onSubmit:c,className:h.a.OrderForm},o.a.createElement("input",{className:h.a.Field,type:"text",onChange:i,onBlur:n,value:t.name,name:"name",placeholder:"name*"}),a.name&&r.name&&o.a.createElement("div",{className:h.a.ErrorMsg},a.name),o.a.createElement(p.b,{className:h.a.Field,type:"text",name:"street",placeholder:"street*"}),o.a.createElement(p.a,{name:"street",component:"div",className:h.a.ErrorMsg}),o.a.createElement(p.b,{className:h.a.Field,type:"text",name:"zipCode",placeholder:"zipCode*"}),o.a.createElement(p.a,{name:"zipCode",component:"div",className:h.a.ErrorMsg}),o.a.createElement(p.b,{className:h.a.Field,type:"text",name:"country",placeholder:"country*"}),o.a.createElement(p.a,{name:"country",component:"div",className:h.a.ErrorMsg}),o.a.createElement(p.b,{className:h.a.Field,type:"email",name:"email",placeholder:"email"}),o.a.createElement(p.a,{name:"email",component:"div",className:h.a.ErrorMsg}),o.a.createElement(p.b,{className:h.a.Field,type:"text",name:"phone",placeholder:"phone*"}),o.a.createElement(p.a,{name:"phone",component:"div",className:h.a.ErrorMsg}),o.a.createElement(p.b,{className:h.a.Field,component:"select",name:"deliveryMethod"},o.a.createElement("option",{value:"cheapest"},"Cheapest"),o.a.createElement("option",{value:"fastest"},"Fastest")),o.a.createElement(p.a,{name:"deliveryMethod",component:"div",className:h.a.ErrorMsg}),o.a.createElement(g.a,{btnType:"Primary"},"Submit"))}})}),b=a(137),_=a.n(b),k=function(e){return o.a.createElement("div",{className:_.a.OrderCheck},o.a.createElement("h1",{className:_.a.msg},"Do you want to continue order?"),o.a.createElement("div",{className:_.a.buttons},o.a.createElement(g.a,{btnType:"Danger",clicked:e.cancel},"NO"),o.a.createElement(g.a,{btnType:"Primary",clicked:e.continue},"YES")))},v=a(17);t.default=Object(c.b)(function(e){return{ingredients:e.mp.ingredients,loading:e.order.loading,ordered:e.order.ordered,isAuth:null!==e.auth.token}})(function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),c=a[0],m=a[1];return e.isAuth?e.ordered?o.a.createElement(i.a,{to:"/orders"}):e.loading?o.a.createElement(v.a,null):o.a.createElement("div",{className:l.a.Checkout},o.a.createElement(d.a,{ingredients:e.ingredients}),o.a.createElement(s.CSSTransition,{in:c,timeout:{enter:400,exit:1e3},mountOnEnter:!0,unmountOnExit:!0,classNames:{enter:"",enterActive:l.a.CheckOpen,exit:"",exitActive:l.a.CheckClosed}},o.a.createElement(k,{ingredients:e.ingredients,continue:function(){var t=document.body.scrollHeight;e.history.push(e.match.url+"/order-form"),setTimeout(function(){return window.scrollTo(0,t)},100),m(!c)},cancel:function(){e.history.push("/")}})),o.a.createElement(i.b,{path:e.match.url+"/order-form",component:C})):o.a.createElement(i.a,{to:"/"})})}}]);
//# sourceMappingURL=4.d8d49e88.chunk.js.map