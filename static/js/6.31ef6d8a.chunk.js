(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{100:function(e,t,a){e.exports=a.p+"static/media/redPepper.04faaea7.svg"},101:function(e,t,a){e.exports=a.p+"static/media/salami.f7344463.svg"},105:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(102),o=a(91),c=a.n(o),s=a(113),l=a(29),m=r.a.memo(function(e){var t=e.type;console.log("PizzaIngredient");var n=Math.floor(10*Math.random())+10,i=Math.floor(55*Math.random())+15,o=Math.floor(55*Math.random())+15,c=Math.floor(360*Math.random()),m=Math.floor(10*Math.random()),d=r.a.createElement(s.a,{svgStyle:{width:"100%",height:"100%"},src:a(89)});return t&&(d=r.a.createElement(s.a,{svgStyle:{position:"absolute",width:"".concat(n,"%"),height:"".concat(n,"%"),top:"".concat(i,"%"),left:"".concat(o,"%"),transform:"rotate(".concat(c,"deg)"),zIndex:"".concat(m)},loading:function(){return r.a.createElement("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:"20"}},r.a.createElement(l.a,null))},wrapper:"span",src:a(92)("./".concat(t,".svg"))})),d});t.a=function(e){var t=e.ingredients,a=[];for(var n in t)for(var o=0;o<Math.floor(t[n].amount/5);o++)a.push({id:n+o,type:n});var s=a.map(function(e){return r.a.createElement(i.CSSTransition,{key:e.id,classNames:{enter:c.a["fade-enter"],enterActive:c.a["fade-enter-active"],exit:c.a["fade-exit"],exitActive:c.a["fade-exit-active"]},timeout:300},r.a.createElement(m,{type:e.type}))});return r.a.createElement("div",{className:c.a.Pizza},r.a.createElement(m,null),r.a.createElement(i.TransitionGroup,null,s))}},135:function(e,t,a){e.exports={CheckOpen:"Checkout_CheckOpen__W1lRZ",openCheck:"Checkout_openCheck__1r-Bk",CheckClosed:"Checkout_CheckClosed__1LoM-",closeCheck:"Checkout_closeCheck__wFIXg"}},136:function(e,t,a){e.exports={OrderForm:"OrderForm_OrderForm__2UI8f",Field:"OrderForm_Field__3rdBh",ErrorMsg:"OrderForm_ErrorMsg__24pQz"}},137:function(e,t,a){e.exports={OrderCheck:"OrderCheck_OrderCheck__3g3iq",msg:"OrderCheck_msg__1OF3o",buttons:"OrderCheck_buttons__1abaX"}},141:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(0),i=a.n(r),o=a(11),c=a(12),s=a(102),l=a(135),m=a.n(l),d=a(105),u=a(136),p=a.n(u),h=a(112),f=a(30),v=a(87),g=Object(c.b)(function(e){return{ingredients:e.mp.ingredients,startedPrice:e.mp.startedPrice,token:e.auth.token,userId:e.auth.userId}},function(e){return{onSubmitOrder:function(t,a){return e(f.j(t,a))}}})(function(e){return i.a.createElement(h.d,{className:p.a.OrderForm,initialValues:{name:"",street:"",zipCode:"",country:"",email:"",phone:"",deliveryMethod:"cheapest"},onSubmit:function(t,a){var n=e.startedPrice;for(var r in e.ingredients)n+=e.ingredients[r].price;var i={ingredients:e.ingredients,orderData:t,userId:e.userId,totalPrice:n.toFixed(2)};e.onSubmitOrder(e.token,i)},validate:function(e){var t={};return e.name?e.name.length<3&&(t.name="Minimum 3 characters"):t.name="Name is required",e.street||(t.street="Street is required"),e.zipCode||(t.zipCode="Zipcode is required"),e.country||(t.country="Country is required"),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address (xxx@xxx.xx)"),e.phone?isNaN(e.phone)?t.phone="Phone must be write in digits":e.phone.length<7&&(t.phone="Minimum 7 digits"):t.phone="Phone is required",t},render:function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleBlur,o=e.handleChange,c=e.handleSubmit;return e.isSubmitting,e.isValidating,i.a.createElement(h.c,{onSubmit:c,className:p.a.OrderForm},i.a.createElement("input",{className:p.a.Field,type:"text",onChange:o,onBlur:r,value:t.name,name:"name",placeholder:"name*"}),a.name&&n.name&&i.a.createElement("div",{className:p.a.ErrorMsg},a.name),i.a.createElement(h.b,{className:p.a.Field,type:"text",name:"street",placeholder:"street*"}),i.a.createElement(h.a,{name:"street",component:"div",className:p.a.ErrorMsg}),i.a.createElement(h.b,{className:p.a.Field,type:"text",name:"zipCode",placeholder:"zipCode*"}),i.a.createElement(h.a,{name:"zipCode",component:"div",className:p.a.ErrorMsg}),i.a.createElement(h.b,{className:p.a.Field,type:"text",name:"country",placeholder:"country*"}),i.a.createElement(h.a,{name:"country",component:"div",className:p.a.ErrorMsg}),i.a.createElement(h.b,{className:p.a.Field,type:"email",name:"email",placeholder:"email"}),i.a.createElement(h.a,{name:"email",component:"div",className:p.a.ErrorMsg}),i.a.createElement(h.b,{className:p.a.Field,type:"text",name:"phone",placeholder:"phone*"}),i.a.createElement(h.a,{name:"phone",component:"div",className:p.a.ErrorMsg}),i.a.createElement(h.b,{className:p.a.Field,component:"select",name:"deliveryMethod"},i.a.createElement("option",{value:"cheapest"},"Cheapest"),i.a.createElement("option",{value:"fastest"},"Fastest")),i.a.createElement(h.a,{name:"deliveryMethod",component:"div",className:p.a.ErrorMsg}),i.a.createElement(v.a,{btnType:"Primary"},"Submit"))}})}),_=a(137),E=a.n(_),b=function(e){return i.a.createElement("div",{className:E.a.OrderCheck},i.a.createElement("h1",{className:E.a.msg},"Do you want to continue order?"),i.a.createElement("div",{className:E.a.buttons},i.a.createElement(v.a,{btnType:"Danger",clicked:e.cancel},"NO"),i.a.createElement(v.a,{btnType:"Primary",clicked:e.continue},"YES")))},x=a(29);t.default=Object(c.b)(function(e){return{ingredients:e.mp.ingredients,loading:e.order.loading,ordered:e.order.ordered,isAuth:null!==e.auth.token}})(function(e){var t=Object(r.useState)(!0),a=Object(n.a)(t,2),c=a[0],l=a[1];return e.isAuth?e.ordered?i.a.createElement(o.a,{to:"/orders"}):e.loading?i.a.createElement(x.a,null):i.a.createElement("div",{className:m.a.Checkout},i.a.createElement(d.a,{ingredients:e.ingredients}),i.a.createElement(s.CSSTransition,{in:c,timeout:{enter:400,exit:1e3},mountOnEnter:!0,unmountOnExit:!0,classNames:{enter:"",enterActive:m.a.CheckOpen,exit:"",exitActive:m.a.CheckClosed}},i.a.createElement(b,{ingredients:e.ingredients,continue:function(){var t=document.body.scrollHeight;e.history.push(e.match.url+"/order-form"),setTimeout(function(){return window.scrollTo(0,t)},100),l(!c)},cancel:function(){e.history.push("/")}})),i.a.createElement(o.b,{path:e.match.url+"/order-form",component:g})):i.a.createElement(o.a,{to:"/"})})},87:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(88),o=a.n(i);t.a=r.a.memo(function(e){return r.a.createElement("button",{className:[o.a.Button,o.a[e.btnType]].join(" "),type:"submit",onClick:e.clicked,disabled:e.disabled},e.children)})},88:function(e,t,a){e.exports={Button:"Button_Button__2bIZO",Primary:"Button_Primary__31ihf",Danger:"Button_Danger__1MG8u"}},89:function(e,t,a){e.exports=a.p+"static/media/basic.96deab51.svg"},91:function(e,t,a){e.exports={Pizza:"Pizza_Pizza__FsJCW","fade-enter":"Pizza_fade-enter__2flpu","fade-enter-active":"Pizza_fade-enter-active__1D0ry","fade-exit":"Pizza_fade-exit__1l0OZ","fade-exit-active":"Pizza_fade-exit-active__dQaYC"}},92:function(e,t,a){var n={"./basic.svg":89,"./basil.svg":93,"./dough.svg":94,"./greenPepper.svg":95,"./mushrooms.svg":96,"./olives.svg":97,"./onion.svg":98,"./pineapple.svg":99,"./redPepper.svg":100,"./salami.svg":101};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=92},93:function(e,t,a){e.exports=a.p+"static/media/basil.186aab84.svg"},94:function(e,t,a){e.exports=a.p+"static/media/dough.f2f89bc3.svg"},95:function(e,t,a){e.exports=a.p+"static/media/greenPepper.61480653.svg"},96:function(e,t,a){e.exports=a.p+"static/media/mushrooms.a60c76e0.svg"},97:function(e,t,a){e.exports=a.p+"static/media/olives.466ae5e9.svg"},98:function(e,t,a){e.exports=a.p+"static/media/onion.df14f2c7.svg"},99:function(e,t,a){e.exports=a.p+"static/media/pineapple.0d1687bc.svg"}}]);
//# sourceMappingURL=6.31ef6d8a.chunk.js.map