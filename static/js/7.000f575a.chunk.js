(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{102:function(e,t,r){e.exports={Modal:"Modal_Modal__1sqFf",Success:"Modal_Success__3vdL2",Error:"Modal_Error__3-DGc"}},103:function(e,t,r){"use strict";var n=r(19),a=r(20),o=r(22),i=r(21),s=r(23),c=r(0),u=r.n(c),l=r(102),d=r.n(l),p=function(e){return u.a.createElement("div",{className:[d.a.Modal,d.a[e.modalType]].join(" ")},e.children)};t.a=function(e,t){return function(r){function c(e){var r;return Object(n.a)(this,c),(r=Object(o.a)(this,Object(i.a)(c).call(this,e))).reqInteceptor=t.interceptors.request.use(function(e){return r.setState({error:!1}),e}),r.resInteceptor=t.interceptors.response.use(function(e){return e},function(e){r.setState({error:!0},function(){setTimeout(function(){r.setState({error:!1})},2e3)})}),r.state={error:!1},r}return Object(s.a)(c,r),Object(a.a)(c,[{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInteceptor),t.interceptors.response.eject(this.resInteceptor)}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.state.error?u.a.createElement(p,{modalType:"Error"},"Failed to connect to server. Try again later"):null,u.a.createElement(e,this.props))}}]),c}(c.Component)}},137:function(e,t,r){e.exports={Orders:"Orders_Orders__XYnfg"}},138:function(e,t,r){e.exports={Order:"Order_Order__YRFst",title:"Order_title__2V2hp",buyer:"Order_buyer__1CRGd",ingLabel:"Order_ingLabel__1Xw4j"}},142:function(e,t,r){"use strict";r.r(t);var n=r(19),a=r(20),o=r(22),i=r(21),s=r(23),c=r(0),u=r.n(c),l=r(12),d=r(137),p=r.n(d),m=r(35),h=r(138),f=r.n(h),_=r(86),O=function(e){var t=e.order,r=e.deleteOrder;console.log(t);var n=[];for(var a in t.ingredients)n.push({type:a,amount:t.ingredients[a].amount});return n=n.filter(function(e){return 0!==e.amount}),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:f.a.Order},u.a.createElement("h2",{className:f.a.title},"Pizza: $",t.totalPrice),u.a.createElement("p",{className:f.a.buyer},"order: name:",t.orderData.name,", street: ",t.orderData.street,", phone:",t.orderData.phone,", delivery: ",t.orderData.deliveryMethod),n.length>0?n.map(function(e){return u.a.createElement("p",{key:e.type,className:f.a.ingLabel},e.type," : ",e.amount," g")}):u.a.createElement("p",null,"Basic pizza with no extra ingredients")),u.a.createElement(_.a,{btnType:"Danger",clicked:r},"Cancel Order"))},b=r(34),y=r(103),g=r(14),v=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuth&&this.props.onFetchOrders(this.props.token,this.props.userId)}},{key:"render",value:function(){var e=this;if(this.props.loading)return u.a.createElement(b.a,null);var t=this.props.orders.length?this.props.orders.map(function(t){return u.a.createElement(O,{key:t.id,order:t,deleteOrder:function(){return e.props.onDeleteOrder(e.props.token,t.id)}})}):u.a.createElement("h3",{style:{textAlign:"center"}},"No active orders");return u.a.createElement("div",{className:p.a.Orders},this.props.isAuth?t:u.a.createElement("h3",{style:{textAlign:"center"}},"Log in to view orders"))}}]),t}(c.Component);t.default=Object(l.b)(function(e){return{orders:e.order.orders,loading:e.order.loading,isAuth:null!==e.auth.token,token:e.auth.token,userId:e.auth.userId}},function(e){return{onFetchOrders:function(t,r){return e(m.e(t,r))},onDeleteOrder:function(t,r){return e(m.d(t,r))}}})(Object(y.a)(v,g.a))},86:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(87),i=r.n(o);t.a=a.a.memo(function(e){return a.a.createElement("button",{className:[i.a.Button,i.a[e.btnType]].join(" "),type:"submit",onClick:e.clicked,disabled:e.disabled},e.children)})},87:function(e,t,r){e.exports={Button:"Button_Button__2bIZO",Primary:"Button_Primary__31ihf",Danger:"Button_Danger__1MG8u"}}}]);
//# sourceMappingURL=7.000f575a.chunk.js.map