(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{103:function(e,t,r){e.exports={Modal:"Modal_Modal__1sqFf",Success:"Modal_Success__3vdL2",Error:"Modal_Error__3-DGc"}},104:function(e,t,r){"use strict";var n=r(35),a=r(36),o=r(39),c=r(37),i=r(38),u=r(0),s=r.n(u),l=r(103),d=r.n(l),m=function(e){return s.a.createElement("div",{className:[d.a.Modal,d.a[e.modalType]].join(" ")},e.children)};t.a=function(e,t){return function(r){function u(e){var r;return Object(n.a)(this,u),(r=Object(o.a)(this,Object(c.a)(u).call(this,e))).reqInteceptor=t.interceptors.request.use(function(e){return r.setState({error:!1}),e}),r.resInteceptor=t.interceptors.response.use(function(e){return e},function(e){r.setState({error:!0},function(){setTimeout(function(){r.setState({error:!1})},2e3)})}),r.state={error:!1},r}return Object(i.a)(u,r),Object(a.a)(u,[{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInteceptor),t.interceptors.response.eject(this.resInteceptor)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.error?s.a.createElement(m,{modalType:"Error"},"Failed to connect to server. Try again later"):null,s.a.createElement(e,this.props))}}]),u}(u.Component)}},138:function(e,t,r){e.exports={Orders:"Orders_Orders__XYnfg"}},139:function(e,t,r){e.exports={Order:"Order_Order__YRFst",title:"Order_title__2V2hp",buyer:"Order_buyer__1CRGd",ingLabel:"Order_ingLabel__1Xw4j"}},144:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(12),c=r(138),i=r.n(c),u=r(30),s=r(139),l=r.n(s),d=r(87),m=function(e){var t=e.order,r=e.deleteOrder;console.log(t);var n=[];for(var o in t.ingredients)n.push({type:o,amount:t.ingredients[o].amount});return n=n.filter(function(e){return 0!==e.amount}),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:l.a.Order},a.a.createElement("h2",{className:l.a.title},"Pizza: $",t.totalPrice),a.a.createElement("p",{className:l.a.buyer},"order: name: ",t.orderData.name,", street: ",t.orderData.street,", phone: ",t.orderData.phone,", delivery: ",t.orderData.deliveryMethod),n.length>0?n.map(function(e){return a.a.createElement("p",{key:e.type,className:l.a.ingLabel},e.type," : ",e.amount," g")}):a.a.createElement("p",null,"Basic pizza with no extra ingredients")),a.a.createElement(d.a,{btnType:"Danger",clicked:r},"Cancel Order"))},p=r(29),f=r(104),_=r(14);t.default=Object(o.b)(function(e){return{orders:e.order.orders,loading:e.order.loading,isAuth:null!==e.auth.token,token:e.auth.token,userId:e.auth.userId}},function(e){return{onFetchOrders:function(t,r){return e(u.e(t,r))},onDeleteOrder:function(t,r){return e(u.d(t,r))}}})(Object(f.a)(function(e){if(Object(n.useEffect)(function(){e.isAuth&&e.onFetchOrders(e.token,e.userId)},[]),e.loading)return a.a.createElement(p.a,null);var t=e.orders.length?e.orders.map(function(t){return a.a.createElement(m,{key:t.id,order:t,deleteOrder:function(){return e.onDeleteOrder(e.token,t.id)}})}):a.a.createElement("h3",{style:{textAlign:"center"}},"No active orders");return a.a.createElement("div",{className:i.a.Orders},e.isAuth?t:a.a.createElement("h3",{style:{textAlign:"center"}},"Log in to view orders"))},_.a))},87:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(88),c=r.n(o);t.a=a.a.memo(function(e){return a.a.createElement("button",{className:[c.a.Button,c.a[e.btnType]].join(" "),type:"submit",onClick:e.clicked,disabled:e.disabled},e.children)})},88:function(e,t,r){e.exports={Button:"Button_Button__2bIZO",Primary:"Button_Primary__31ihf",Danger:"Button_Danger__1MG8u"}}}]);
//# sourceMappingURL=7.aa73d6d2.chunk.js.map