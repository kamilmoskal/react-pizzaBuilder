{"version":3,"sources":["containers/Orders/Orders.module.scss","components/Order/Order.module.scss","components/Order/Order.js","containers/Orders/Orders.js","components/UI/Button/Button.js","components/UI/Button/Button.module.scss","components/UI/Modal/Modal.module.scss","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","components/UI/Modal/Modal.js","hoc/withErrorHandler/withErrorHandler.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/inherits.js"],"names":["module","exports","Orders","Order","title","buyer","ingLabel","_ref","order","deleteOrder","console","log","arrayOfIng","key","ingredients","push","type","amount","filter","ing","react_default","a","createElement","Fragment","className","classes","totalPrice","orderData","name","street","phone","deliveryMethod","length","map","Button","btnType","clicked","connect","state","orders","loading","isAuth","auth","token","userId","dispatch","onFetchOrders","actions","onDeleteOrder","id","withErrorHandler","props","useEffect","Spinner","components_Order_Order","style","textAlign","axios","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Button_module_scss__WEBPACK_IMPORTED_MODULE_1__","_Button_module_scss__WEBPACK_IMPORTED_MODULE_1___default","React","memo","join","onClick","disabled","children","Primary","Danger","Modal","Success","Error","_defineProperties","target","i","descriptor","enumerable","configurable","writable","Object","defineProperty","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","modalType","__webpack_exports__","WrappedComponent","_Component","withErrorhandler","_this","self","call","instance","Constructor","TypeError","_classCallCheck","this","assertThisInitialized","reqInteceptor","interceptors","request","use","req","setState","error","resInteceptor","response","res","setTimeout","protoProps","staticProps","subClass","superClass","create","value","_inherits","Component","eject","UI_Modal_Modal"],"mappings":"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","file":"static/js/7.d43bf933.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Orders\":\"Orders_Orders__XYnfg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Order\":\"Order_Order__YRFst\",\"title\":\"Order_title__2V2hp\",\"buyer\":\"Order_buyer__1CRGd\",\"ingLabel\":\"Order_ingLabel__1Xw4j\"};","import React from 'react';\r\nimport classes from './Order.module.scss';\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst Order = ({order, deleteOrder}) => {\r\n  console.log(order)\r\n    let arrayOfIng = []\r\n    for (let key in order.ingredients){\r\n      arrayOfIng.push({\r\n          type: key,\r\n          amount: order.ingredients[key].amount\r\n      })\r\n    }\r\n    arrayOfIng = arrayOfIng.filter(ing => ing.amount !== 0)\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.Order}>\r\n          <h2 className={classes.title}>Pizza: ${order.totalPrice}</h2>\r\n          <p className={classes.buyer}>\r\n            order: name: {order.orderData.name}, \r\n            street: {order.orderData.street},  \r\n            phone: {order.orderData.phone}, \r\n            delivery: {order.orderData.deliveryMethod}\r\n          </p>\r\n\r\n          {arrayOfIng.length > 0 ? \r\n            arrayOfIng.map(ing => {\r\n            return <p key={ing.type} className={classes.ingLabel}>{ing.type} : {ing.amount} g</p>\r\n            }) \r\n          : <p>Basic pizza with no extra ingredients</p>}\r\n      </div>\r\n      <Button btnType=\"Danger\" clicked={deleteOrder}>Cancel Order</Button>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Order\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classes from './Orders.module.scss';\r\nimport * as actions from '../../store/actions/index';\r\nimport Order from '../../components/Order/Order';\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport axios from '../../axios-db';\r\n\r\nconst Orders = props => {\r\n    useEffect(() => {\r\n        if (props.isAuth) {\r\n            props.onFetchOrders(props.token, props.userId);\r\n        }\r\n    }, [])\r\n    \r\n    if (props.loading){\r\n        return <Spinner />\r\n    } \r\n    let orders = props.orders.length ? props.orders.map(order => {\r\n        return (\r\n            <Order \r\n                key={order.id} \r\n                order={order}\r\n                deleteOrder={() => props.onDeleteOrder(props.token, order.id)}\r\n            />\r\n        )\r\n    }) : <h3 style={{textAlign: 'center'}}>No active orders</h3>\r\n\r\n    return (\r\n        <div className={classes.Orders}>\r\n\r\n            {props.isAuth ? \r\n            orders \r\n            : <h3 style={{textAlign: 'center'}}>Log in to view orders</h3>}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      orders: state.order.orders,\r\n      loading: state.order.loading,\r\n      isAuth: state.auth.token !== null,\r\n      token: state.auth.token,\r\n      userId: state.auth.userId\r\n    }\r\n  }\r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFetchOrders: (token, userId) => dispatch(actions.fetchOrders(token, userId)),\r\n        onDeleteOrder: (token, id) => dispatch(actions.deleteOrder(token, id)),\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Orders, axios));\r\n","import React from 'react';\r\nimport classes from './Button.module.scss';\r\n\r\nconst Button = (props) => {\r\n    return <button \r\n                className={[classes.Button, classes[props.btnType]].join(' ')}\r\n                type='submit'\r\n                onClick={props.clicked}\r\n                disabled={props.disabled}>\r\n                {props.children}\r\n            </button>\r\n}\r\n\r\nexport default React.memo(Button);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2bIZO\",\"Primary\":\"Button_Primary__31ihf\",\"Danger\":\"Button_Danger__1MG8u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1sqFf\",\"Success\":\"Modal_Success__3vdL2\",\"Error\":\"Modal_Error__3-DGc\"};","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import React from 'react';\r\nimport classes from './Modal.module.scss';\r\n\r\nconst Modal = (props) => {\r\n    return (\r\n        <div className={[classes.Modal, classes[props.modalType]].join(' ')}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\n\r\nexport default (WrappedComponent, axios) => {\r\n  return class withErrorhandler extends Component {\r\n        constructor(props){\r\n            super(props);\r\n\r\n            this.reqInteceptor = axios.interceptors.request.use(req => {\r\n                this.setState({error: false});\r\n                return req;\r\n            });\r\n            this.resInteceptor = axios.interceptors.response.use(res => res, error => {\r\n                this.setState({error: true}, () => {\r\n                    setTimeout(() => {\r\n                        this.setState({error: false})\r\n                    }, 2000);\r\n                });\r\n            });\r\n\r\n            this.state = {\r\n                error: false\r\n            }\r\n        }\r\n        componentWillUnmount(){\r\n            axios.interceptors.request.eject(this.reqInteceptor);\r\n            axios.interceptors.response.eject(this.resInteceptor);\r\n        }\r\n        render(){\r\n            return (\r\n                <React.Fragment>\r\n                    {this.state.error ? <Modal modalType=\"Error\">Failed to connect to server. Try again later</Modal> : null}\r\n                    <WrappedComponent {...this.props}/>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n    } \r\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}"],"sourceRoot":""}