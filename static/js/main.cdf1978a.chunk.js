(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(e,n,t){"use strict";t.d(n,"l",function(){return r}),t.d(n,"k",function(){return a}),t.d(n,"e",function(){return o}),t.d(n,"n",function(){return i}),t.d(n,"m",function(){return c}),t.d(n,"p",function(){return u}),t.d(n,"q",function(){return l}),t.d(n,"o",function(){return s}),t.d(n,"i",function(){return d}),t.d(n,"j",function(){return f}),t.d(n,"h",function(){return m}),t.d(n,"g",function(){return g}),t.d(n,"f",function(){return p}),t.d(n,"c",function(){return E}),t.d(n,"d",function(){return h}),t.d(n,"a",function(){return _}),t.d(n,"b",function(){return v});var r="INIT_INGREDIENTS",a="INIT_INGREDIENTS_ERROR",o="CHANGE_INGREDIENT",i="RESET_INGREDIENTS",c="RANDOM_PIZZA",u="SUBMIT_ORDER_START",l="SUBMIT_ORDER_SUCCESS",s="SUBMIT_ORDER_ERROR",d="FETCH_ORDERS_START",f="FETCH_ORDERS_SUCCESS",m="FETCH_ORDERS_ERROR",g="DELETE_ORDERS_SUCCESS",p="DELETE_ORDERS_ERROR",E="AUTH_START",h="AUTH_SUCCESS",_="AUTH_ERROR",v="AUTH_LOGOUT"},14:function(e,n,t){"use strict";var r=t(20),a=t.n(r).a.create({baseURL:"https://react-makingpizza.firebaseio.com/"});n.a=a},18:function(e,n,t){e.exports={SideDrawer:"SideDrawer_SideDrawer__6EMQh",Open:"SideDrawer_Open__19zK1",Close:"SideDrawer_Close__3h6ul"}},21:function(e,n,t){e.exports={NavigationItem:"NavigationItem_NavigationItem__1MwEt",active:"NavigationItem_active__34pUc"}},25:function(e,n,t){e.exports={Toolbar:"Toolbar_Toolbar__1GZfc",DesktopOnly:"Toolbar_DesktopOnly__3sCgd"}},27:function(e,n,t){e.exports={Link:"Logo_Link__1VxRV",Logo:"Logo_Logo__2AGIc"}},28:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(44),i=t.n(o);n.a=function(){return a.a.createElement("div",{className:i.a.Spinner})}},29:function(e,n,t){"use strict";var r=t(14),a=t(1),o=function(){return function(e,n){r.a.get("/ingredients.json").then(function(n){e({type:a.l,ingredients:n.data})}).catch(function(n){e({type:a.k,error:n})})}},i=function(e,n){return{type:a.e,value:e,ingType:n}},c=function(){return{type:a.n}},u=function(){return function(e){e(c()),e({type:a.m})}},l=t(2),s=function(e,n){return function(t){t({type:a.p}),r.a.post("/orders.json?auth="+e,n).then(function(e){return t({type:a.q})}).catch(function(e){return t({type:a.o,error:e})})}},d=function(e,n){return function(t){t({type:a.i}),r.a.get("/orders.json?auth="+e+'&orderBy="userId"&equalTo="'+n+'"').then(function(e){var n=[];for(var r in e.data)n.push(Object(l.a)({},e.data[r],{id:r}));t({type:a.j,orders:n})}).catch(function(e){return t({type:a.h,error:e})})}},f=function(e,n){return function(t){r.a.delete("/orders/"+n+".json?auth="+e).then(function(e){t({type:a.g,id:n})}).catch(function(e){return t({type:a.f,error:e})})}},m=t(20),g=t.n(m),p=function(e,n,t,r){return function(o){o({type:a.c});var i={email:e,password:n,returnSecureToken:!0},c="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyAGeTjdqblz2Z5tDZ8eY4G7H2wtnTV0N9Q";t||(c="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyAGeTjdqblz2Z5tDZ8eY4G7H2wtnTV0N9Q"),g.a.post(c,i).then(function(e){if(r){var n=new Date((new Date).getTime()+1e3*e.data.expiresIn);sessionStorage.setItem("token",e.data.idToken),sessionStorage.setItem("userId",e.data.localId),sessionStorage.setItem("expirationDate",n)}o({type:a.d,token:e.data.idToken,userId:e.data.localId}),o(h(e.data.expiresIn))}).catch(function(e){o({type:a.a,error:e.response.data.error})})}},E=function(){return sessionStorage.removeItem("token"),sessionStorage.removeItem("userId"),sessionStorage.removeItem("expirationDate"),{type:a.b}},h=function(e){return function(n){setTimeout(function(){n(E())},1e3*e)}},_=function(){return function(e){var n=sessionStorage.getItem("token");if(n){var t=sessionStorage.getItem("userId"),r=new Date(sessionStorage.getItem("expirationDate"));new Date<r?e({type:a.d,token:n,userId:t}):e(E())}}};t.d(n,"f",function(){return o}),t.d(n,"b",function(){return i}),t.d(n,"i",function(){return c}),t.d(n,"h",function(){return u}),t.d(n,"j",function(){return s}),t.d(n,"e",function(){return d}),t.d(n,"d",function(){return f}),t.d(n,"a",function(){return p}),t.d(n,"g",function(){return E}),t.d(n,"c",function(){return _})},42:function(e,n,t){e.exports={BurgerToggle:"BurgerToggle_BurgerToggle__2sT92"}},43:function(e,n,t){e.exports={NavigationItems:"NavigationItems_NavigationItems__3JmOX"}},44:function(e,n,t){e.exports={Spinner:"Spinner_Spinner__2lIk4",load4:"Spinner_load4__llAEN"}},47:function(e,n,t){e.exports=t(80)},52:function(e,n,t){},80:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(33),i=t.n(o),c=(t(52),t(12)),u=t(13),l=t(11),s=t(30),d=t(25),f=t.n(d),m=t(42),g=t.n(m),p=function(e){return a.a.createElement("div",{onClick:e.clicked,className:g.a.BurgerToggle},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},E=t(43),h=t.n(E),_=t(21),v=t.n(_),b=function(e){return a.a.createElement("li",{className:v.a.NavigationItem},a.a.createElement(u.c,{to:e.link,exact:e.exact,className:v.a.NavigationItem,activeClassName:v.a.active},e.children))},S=function(e){var n=e.isAuth;return a.a.createElement("ul",{className:h.a.NavigationItems},a.a.createElement(b,{link:"/",exact:!0},"Make Pizza"),a.a.createElement(b,{link:"/orders"},"Orders"),n?a.a.createElement(b,{link:"/logout"},"Logout"):a.a.createElement(b,{link:"/auth"},"Log In"))},I=t(27),O=t.n(I),T=function(){return a.a.createElement(u.b,{to:"/",className:O.a.Link},a.a.createElement("h1",{className:O.a.Logo},"makeYourPizza"))},k=function(e){return a.a.createElement("header",{className:f.a.Toolbar},a.a.createElement(T,null),a.a.createElement(p,{clicked:e.toggleSideDrawer}),a.a.createElement("nav",{className:f.a.DesktopOnly},a.a.createElement(S,{isAuth:e.isAuth})))},y=t(18),j=t.n(y),R=function(e){var n=[j.a.SideDrawer,j.a.Close];return e.open&&(n=[j.a.SideDrawer,j.a.Open]),a.a.createElement("div",{className:n.join(" ")},a.a.createElement("div",{style:{marginBottom:"40px"},onClick:e.closed},a.a.createElement(T,null)),a.a.createElement("nav",{onClick:e.closed},a.a.createElement(S,{isAuth:e.isAuth})))},N=Object(c.b)(function(e){return{isAuth:null!==e.auth.token}})(function(e){var n=Object(r.useState)(!1),t=Object(s.a)(n,2),o=t[0],i=t[1],c=function(){i(!o)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{toggleSideDrawer:c,isAuth:e.isAuth}),a.a.createElement(R,{open:o,closed:c,isAuth:e.isAuth}),a.a.createElement("main",null,e.children))}),D=t(29),w=t(28),A=a.a.lazy(function(){return Promise.all([t.e(1),t.e(8)]).then(t.bind(null,139))}),C=a.a.lazy(function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,136))}),x=a.a.lazy(function(){return Promise.all([t.e(1),t.e(0),t.e(6)]).then(t.bind(null,137))}),z=a.a.lazy(function(){return t.e(7).then(t.bind(null,138))}),U=a.a.lazy(function(){return t.e(9).then(t.bind(null,135))}),L=Object(c.b)(null,function(e){return{onCheckAuthentication:function(){return e(D.c())}}})(function(e){return Object(r.useEffect)(function(){e.onCheckAuthentication()},[]),a.a.createElement(u.a,null,a.a.createElement(N,null,a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(w.a,null)},a.a.createElement(l.d,null,a.a.createElement(l.b,{path:"/",exact:!0,component:C}),a.a.createElement(l.b,{path:"/auth",component:A}),a.a.createElement(l.b,{path:"/logout",component:U}),a.a.createElement(l.b,{path:"/checkout",component:x}),a.a.createElement(l.b,{path:"/orders",component:z}),a.a.createElement(l.a,{to:"/"})))))}),M=t(10),G=t(2),B=t(1),H={token:null,userId:null,loading:!1,error:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case B.c:return Object(G.a)({},e,{loading:!0});case B.d:return Object(G.a)({},e,{token:n.token,userId:n.userId,loading:!1,error:null});case B.a:return Object(G.a)({},e,{loading:!1,error:n.error});case B.b:return Object(G.a)({},e,{token:null,userId:null});default:return e}},Z=t(17),q={onion:.07,salami:.1,mushrooms:.08,olives:.09,basil:.09,pineapple:.1,redPepper:.07,greenPepper:.07},F={ingredients:null,startedPrice:14,ingSelected:!1,error:null},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case B.l:return Object(G.a)({},e,{ingredients:n.ingredients});case B.k:return Object(G.a)({},e,{error:n.error});case B.e:return Object(G.a)({},e,{ingredients:Object(G.a)({},e.ingredients,Object(Z.a)({},n.ingType,{amount:n.value,price:n.value*q[n.ingType]})),ingSelected:!0});case B.n:var t={};for(var r in e.ingredients)t[r]={amount:0,price:0};return Object(G.a)({},e,{ingredients:t,ingSelected:!1});case B.m:var a=[];for(var o in e.ingredients)a.push(o);for(var i=Math.floor(8*Math.random())+1,c={},u=function(e){var n=Math.floor(60*Math.random())+20,t=a[Math.floor(Math.random()*a.length)];c=Object(G.a)({},c,Object(Z.a)({},t,{amount:n,price:n*q[t]})),a=a.filter(function(e){return e!==t})},l=0;l<i;l++)u();return console.log(i),Object(G.a)({},e,{ingredients:Object(G.a)({},e.ingredients,c),ingSelected:!0});default:return e}},J={orders:[],loading:!1,error:null,ordered:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case B.p:return Object(G.a)({},e,{loading:!0});case B.q:return Object(G.a)({},e,{loading:!1,error:null,ordered:!0});case B.o:return Object(G.a)({},e,{loading:!1,error:n.error,ordered:!1});case B.i:return Object(G.a)({},e,{loading:!0});case B.j:return Object(G.a)({},e,{orders:n.orders,ordered:!1,loading:!1,error:null});case B.h:return Object(G.a)({},e,{ordered:!1,loading:!1,error:n.error});case B.g:return Object(G.a)({},e,{orders:e.orders.filter(function(e){return e.id!==n.id}),loading:!1,error:null});case B.f:return Object(G.a)({},e,{loading:!1,error:n.error});default:return e}},Y=Object(M.c)({auth:P,mp:V,order:Q}),K=t(45),X=M.d,W=Object(M.e)(Y,X(Object(M.a)(K.a)));i.a.render(a.a.createElement(c.a,{store:W},a.a.createElement(L,null)),document.getElementById("root"))}},[[47,3,4]]]);
//# sourceMappingURL=main.cdf1978a.chunk.js.map